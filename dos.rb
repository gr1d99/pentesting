require "faraday"

require "./dos/attack"
require "./dos/logger"
require "./dos/process_attack"
require "./dos/uri"

module Dos
  class ConnectionFailedError < StandardError; end
end

uri, method = ARGV[0..1]

method = method.nil? ? :get : method.to_sym
uri = Dos::Uri.parse(uri)

Dos::Attack.start(uri, method)
